<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Known Issues - openDuT</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../../user-manual/index.html"><strong aria-hidden="true">1.</strong> User Manual</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../user-manual/cleo/index.html"><strong aria-hidden="true">1.1.</strong> CLEO</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../user-manual/cleo/commands.html"><strong aria-hidden="true">1.1.1.</strong> Commands</a></li><li class="chapter-item expanded "><a href="../../user-manual/cleo/jq.html"><strong aria-hidden="true">1.1.2.</strong> How to combine CLEO and jq</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../development/index.html"><strong aria-hidden="true">2.</strong> Developer Manual</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../development/getting-started.html"><strong aria-hidden="true">2.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../../development/starting-applications.html"><strong aria-hidden="true">2.2.</strong> Starting Applications</a></li><li class="chapter-item expanded "><a href="../../development/git-workflow.html"><strong aria-hidden="true">2.3.</strong> Git Workflow</a></li><li class="chapter-item expanded "><a href="../../development/building-a-release.html"><strong aria-hidden="true">2.4.</strong> Building a Release</a></li><li class="chapter-item expanded "><a href="../../development/testenv/index.html"><strong aria-hidden="true">2.5.</strong> Test Environment</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../development/testenv/theo-setup-vm-linux.html"><strong aria-hidden="true">2.5.1.</strong> Setup openDuT VM on Linux</a></li><li class="chapter-item expanded "><a href="../../development/testenv/theo-setup-vm-windows.html"><strong aria-hidden="true">2.5.2.</strong> Setup openDuT VM on Windows</a></li><li class="chapter-item expanded "><a href="../../development/testenv/theo-setup-docker.html"><strong aria-hidden="true">2.5.3.</strong> Setup Docker</a></li><li class="chapter-item expanded "><a href="../../development/testenv/theo-use-development-mode.html"><strong aria-hidden="true">2.5.4.</strong> Usage Development Mode</a></li><li class="chapter-item expanded "><a href="../../development/testenv/theo-use-test-mode.html"><strong aria-hidden="true">2.5.5.</strong> Usage Test Mode</a></li><li class="chapter-item expanded "><a href="../../development/testenv/known-issues.html" class="active"><strong aria-hidden="true">2.5.6.</strong> Known Issues</a></li><li class="chapter-item expanded "><a href="../../development/testenv/advanced.html"><strong aria-hidden="true">2.5.7.</strong> Advanced</a></li><li class="chapter-item expanded "><a href="../../development/testenv/secret-scanner.html"><strong aria-hidden="true">2.5.8.</strong> Secret Scanner</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../architecture/index.html"><strong aria-hidden="true">3.</strong> Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../architecture/cluster/index.html"><strong aria-hidden="true">3.1.</strong> Cluster</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../architecture/cluster/deployment.html"><strong aria-hidden="true">3.1.1.</strong> Deployment</a></li></ol></li><li class="chapter-item expanded "><a href="../../architecture/peer/index.html"><strong aria-hidden="true">3.2.</strong> Peer</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">openDuT</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="known-issues"><a class="header" href="#known-issues">Known Issues</a></h1>
<h2 id="copying-data-to-and-from-the-opendut-browser"><a class="header" href="#copying-data-to-and-from-the-opendut-browser">Copying data to and from the OpenDuT Browser</a></h2>
<p>The OpenDuT Browser is a web browser running in a docker container. 
It is based on KasmVNC base image which allows containerized desktop applications from a web browser.
When using the OpenDuT Browser, you may want to copy data to and from the OpenDuT browser inside your own browser.
On Firefox this is restricted, and you may use the clipboard window on the left side of the OpenDuT Browser to copy data to your clipboard.</p>
<h2 id="cargo-target-directory"><a class="header" href="#cargo-target-directory">Cargo Target Directory</a></h2>
<p>When running cargo tasks within the virtual machine, you may see following error:</p>
<pre><code>warning: hard linking files in the incremental compilation cache failed. copying files instead. consider moving the cache directory to a file system which supports hard linking in session dir
</code></pre>
<p>This is mitigated by setting a different target directory for cargo in <code>/home/vagrant/.bashrc</code> on the virtual machine:</p>
<pre><code>export CARGO_TARGET_DIR=$HOME/rust-target
</code></pre>
<h2 id="vagrant-permission-denied"><a class="header" href="#vagrant-permission-denied">Vagrant Permission Denied</a></h2>
<p>Sometimes vagrant fails to insert the private key that was automatically generated.
This might cause this error (seen in git-bash on Windows):</p>
<pre><code>$ vagrant ssh
vagrant@127.0.0.1: Permission denied (publickey).
</code></pre>
<p>This can be fixed by overwriting the vagrant-generated key with the one inserted during provisioning:</p>
<pre><code class="language-sh">cp ~/.ssh/id_rsa .vagrant/machines/opendut-vm/virtualbox/private_key
</code></pre>
<h2 id="vagrant-timeout"><a class="header" href="#vagrant-timeout">Vagrant Timeout</a></h2>
<p>If the virtual machine is not allowed to create or use a private network it may cause a timeout during booting the virtual machine.</p>
<pre><code>Timed out while waiting for the machine to boot. This means that
Vagrant was unable to communicate with the guest machine within
the configured (&quot;config.vm.boot_timeout&quot; value) time period.
</code></pre>
<ul>
<li>You may disable the private network by setting the environment variable <code>OPENDUT_DISABLE_PRIVATE_NETWORK=true</code> and explicitly halt and start the virtual machine again.</li>
</ul>
<pre><code class="language-shell">export OPENDUT_DISABLE_PRIVATE_NETWORK=true
vagrant halt
vagrant up
</code></pre>
<h2 id="vagrant-custom-certificate-authority"><a class="header" href="#vagrant-custom-certificate-authority">Vagrant Custom Certificate Authority</a></h2>
<p>When running behind an intercepting http proxy, you may run into issues with SSL certificate verification. </p>
<pre><code class="language-shell">ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1007)
</code></pre>
<p>This can be mitigated by adding the custom certificate authority to the trust store of the virtual machine. </p>
<ul>
<li>Place certificate authority file here: <code>resources/development/tls/custom-ca.crt</code></li>
<li>And re-run the provisioning of the virtual machine.</li>
</ul>
<pre><code class="language-shell">export CUSTOM_ROOT_CA=resources/development/tls/custom-ca.pem
vagrant provision
</code></pre>
<h2 id="ctrlc-in-vagrant-ssh"><a class="header" href="#ctrlc-in-vagrant-ssh">Ctrl+C in Vagrant SSH</a></h2>
<p>When using <code>cargo theo vagrant ssh</code> on Windows and pressing <code>Ctrl+C</code> to terminate a command, the ssh session may be closed.</p>
<h2 id="netbird-management-invalid-credentials"><a class="header" href="#netbird-management-invalid-credentials">Netbird management invalid credentials</a></h2>
<p>If keycloak was re-provisioned after the netbird management server, 
the management server may not be able to authenticate with keycloak anymore.</p>
<pre><code># docker logs netbird-management-1
[...]
2024-02-14T09:51:57Z WARN management/server/account.go:1174: user 59896d1b-45e6-48bb-ae79-aa17d5a2af94 not found in IDP
2024-02-14T09:51:57Z ERRO management/server/http/middleware/access_control.go:46: failed to get user from claims: failed to get account with token claims user 59896d1b-45e6-48bb-ae79-aa17d5a2af94 not found in the IdP

docker logs edgar-leader
[...]
Failed to create new peer.
[...]
  Received status code indicating an error: HTTP status client error (403 Forbidden) for url (http://netbird-management/api/groups)
</code></pre>
<p>This may be fixed by destroying the netbird service:</p>
<pre><code class="language-shell">cargo theo testenv destroy --service netbird
</code></pre>
<p>Afterward you may restart the netbird service:</p>
<pre><code class="language-shell">cargo theo testenv start
# or 
cargo theo dev start
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../development/testenv/theo-use-test-mode.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../development/testenv/advanced.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../development/testenv/theo-use-test-mode.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../development/testenv/advanced.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
